---
layout: post
title: "Git技巧"
description: ""
category: 
tags: []
---
{% include JB/setup %}

## 导出仓库

通常我们会有将整个Git仓库文件导出的需求，可以使用如下代码：

    //使用git archive命令
    //从master分支打包文件到指定的目录，格式为zip。如果不指定output，那么则向
    //标准输出输出内容
    git archive --format zip --output /full/path/to/zipfile.zip master

    //使用git checkout-index命令，注意--prefix参数最后的/，如果不指定的话，那么则会把导出的文件全部加上改prefix前缀，比如：/destination/path.code.c
    git checkout-index -a -f --prefix=/destination/path/



QUOTE [^1]

> I found out what option 2 means. From a repository, you can do:

> git checkout-index -a -f --prefix=/destination/path/

> The slash at the end of the path is important, otherwise it will result in the files being in /destination with a prefix of 'path'.

> Since in a normal situation the index contains the contents of the repository, there is nothing special to do to "read the desired tree into the index". It's already there.

> The -a flag is required to check out all files in the index (I'm not sure what it means to omit this flag in this situation, since it doesn't do what I want). The -f flag forces overwriting any existing files in the output, which this command doesn't normally do.

> This appears to be the sort of "git export" I was looking for.

QUOTE [^2]

> git export ~/the/destination/dir

> If the destination directory already exists, you'll need to add -f or --force.

> Installation is simple; just drop the script somewhere in your PATH, and make sure it's executable.

[^1]: [How to do a “git export” (like “svn export”)?](http://stackoverflow.com/questions/160608/how-to-do-a-git-export-like-svn-export)
[^2]: [git-export](https://github.com/dasch/git-export)
